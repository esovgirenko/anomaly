# Подробное руководство по установке

Это подробное руководство для тех, кто хочет понять каждый шаг установки.

## Содержание

1. [Что такое терминал и как с ним работать](#терминал-и-командная-строка)
2. [Установка Python](#установка-python)
3. [Установка Git (опционально)](#установка-git)
4. [Скачивание проекта](#скачивание-проекта)
5. [Установка зависимостей](#установка-зависимостей)
6. [Первый запуск](#первый-запуск)
7. [Решение проблем](#решение-проблем)

---

## Терминал и командная строка

### Что это такое?

Терминал (на Mac/Linux) или Командная строка (на Windows) - это способ управлять компьютером с помощью текстовых команд, а не через графический интерфейс с кнопками и окнами.

**Зачем это нужно?**
- Многие инструменты для разработчиков работают только через терминал
- Это быстрее, чем делать много кликов мышкой
- Это стандартный способ работы с программами в Linux/Unix системах

### Как открыть терминал?

#### Windows:

**Способ 1:**
1. Нажмите клавишу Windows (клавиша с логотипом Windows)
2. Введите "cmd" или "командная строка"
3. Нажмите Enter

**Способ 2:**
1. Нажмите Win+R (клавиша Windows + R)
2. Введите `cmd`
3. Нажмите Enter

**Способ 3:**
1. Откройте проводник
2. В адресной строке введите `cmd` и нажмите Enter

#### Mac:

**Способ 1:**
1. Нажмите Cmd+Пробел (откроется поиск Spotlight)
2. Введите "Терминал" или "Terminal"
3. Нажмите Enter

**Способ 2:**
1. Откройте Finder
2. Перейдите: Программы → Утилиты → Терминал

#### Linux (Ubuntu/Debian):

1. Нажмите Ctrl+Alt+T
2. Или найдите "Терминал" в меню приложений

### Основные команды терминала

Вот команды, которые вам понадобятся:

| Команда | Что делает | Пример |
|---------|-----------|--------|
| `cd` | Перейти в папку | `cd Documents` |
| `cd ..` | Вернуться на уровень выше | `cd ..` |
| `pwd` | Показать текущую папку | `pwd` |
| `ls` | Показать файлы в папке (Mac/Linux) | `ls` |
| `dir` | Показать файлы в папке (Windows) | `dir` |
| `mkdir` | Создать новую папку | `mkdir новая_папка` |
| `python` | Запустить Python | `python script.py` |

### Работа с путями

**Что такое путь?**
Путь - это адрес файла или папки на вашем компьютере.

**Примеры путей:**
- Windows: `C:\Users\Имя\Documents\anomaly`
- Mac/Linux: `/Users/Имя/Documents/anomaly` или `~/Documents/anomaly`

**Символы в путях:**
- `/` - разделитель папок (Mac/Linux)
- `\` - разделитель папок (Windows, но в терминале можно использовать `/`)
- `~` - ваша домашняя папка (Mac/Linux)
- `.` - текущая папка
- `..` - родительская папка (на уровень выше)

**Как скопировать путь к папке:**

*Windows:*
1. Откройте папку в проводнике
2. Нажмите на адресную строку сверху
3. Выделится путь, нажмите Ctrl+C чтобы скопировать

*Mac:*
1. Откройте папку в Finder
2. Нажмите Option+Правый клик на папку
3. Выберите "Скопировать путь"

*Linux:*
1. В файловом менеджере найдите папку
2. Правый клик → Свойства → посмотрите "Расположение"

---

## Установка Python

### Зачем нужен Python?

Python - это язык программирования, на котором написана наша система. Чтобы запустить программу на Python, нужен интерпретатор Python (это программа, которая понимает команды на языке Python).

### Шаг 1: Скачивание Python

1. Откройте браузер
2. Перейдите на официальный сайт: **https://www.python.org/**
3. Нажмите на вкладку "Downloads" (Скачать)
4. Сайт автоматически предложит версию для вашей операционной системы
5. Нажмите "Download Python 3.x.x" (где x.x - версия)

**ВАЖНО:** Нужна версия 3.9 или выше!

### Шаг 2: Установка Python (Windows)

1. Откройте скачанный файл (обычно в папке "Загрузки")
2. **ОЧЕНЬ ВАЖНО:** В первом окне установщика поставьте галочку:
   ```
   ☑ Add Python 3.x to PATH
   ```
   
   Эта галочка говорит системе, что Python можно запускать из любой папки через терминал. Без этой галочки придется каждый раз указывать полный путь к Python.

3. Нажмите "Install Now"
4. Появится окно с прогресс-баром "Setup Progress"
5. Дождитесь сообщения "Setup was successful"
6. Нажмите "Close"

**Где найти Python после установки:**
- Обычно устанавливается в: `C:\Users\ВашеИмя\AppData\Local\Programs\Python\Python3x\`
- Но если поставили галочку "Add to PATH", вы можете запускать его просто командой `python` из любой папки

### Шаг 3: Установка Python (Mac)

1. Откройте скачанный файл `.pkg`
2. Следуйте инструкциям установщика:
   - Нажмите "Продолжить"
   - Прочитайте лицензию, нажмите "Принять"
   - Выберите место установки (обычно оставляют по умолчанию)
   - Нажмите "Установить"
3. Введите пароль администратора, когда попросят
4. Дождитесь окончания установки

**Примечание для Mac:**
На Mac Python может быть уже установлен, но это старая версия (2.7). Установите новую версию 3.x с сайта python.org.

### Шаг 4: Установка Python (Linux)

Большинство дистрибутивов Linux уже имеют Python, но может быть старая версия.

**Ubuntu/Debian:**
```bash
sudo apt update
sudo apt install python3 python3-pip
```

**Fedora/CentOS:**
```bash
sudo dnf install python3 python3-pip
```

**Что делает команда `sudo`?**
`sudo` означает "выполнить от имени администратора". Вас попросят ввести пароль.

### Шаг 5: Проверка установки

Откройте терминал и выполните:

```bash
python --version
```

Должно появиться:
```
Python 3.9.7
```
или похожее (версия может отличаться, главное - чтобы была 3.9 или выше).

**Если команда не работает:**

На Mac/Linux попробуйте:
```bash
python3 --version
```

На Windows:
1. Убедитесь, что поставили галочку "Add to PATH" при установке
2. Перезапустите терминал после установки Python
3. Попробуйте полный путь: `C:\Users\ВашеИмя\AppData\Local\Programs\Python\Python3x\python.exe --version`

---

## Установка Git

Git - это система управления версиями. Она нужна, чтобы скачивать проекты с GitHub и других репозиториев.

### Нужен ли Git?

Git **не обязателен**. Вы можете скачать проект как ZIP-архив через браузер. Но с Git удобнее обновлять проект.

### Установка Git (Windows)

1. Перейдите на: **https://git-scm.com/download/win**
2. Скачайте установщик (Git for Windows)
3. Запустите установщик
4. В большинстве случаев можно просто нажимать "Next" (Далее) с настройками по умолчанию
5. Нажмите "Install"
6. Дождитесь окончания
7. Нажмите "Finish"

**Проверка:**
```bash
git --version
```

### Установка Git (Mac)

**Способ 1: Через установщик**
1. Перейдите на: **https://git-scm.com/download/mac**
2. Скачайте установщик
3. Запустите и следуйте инструкциям

**Способ 2: Через Homebrew (если установлен)**
```bash
brew install git
```

**Способ 3: Через Xcode Command Line Tools**
```bash
xcode-select --install
```

### Установка Git (Linux)

**Ubuntu/Debian:**
```bash
sudo apt install git
```

**Fedora/CentOS:**
```bash
sudo dnf install git
```

---

## Скачивание проекта

### Способ 1: Через Git (рекомендуется)

Если Git установлен:

1. Откройте терминал
2. Перейдите в папку, куда хотите скачать проект (например, Documents):
```bash
cd ~/Documents
```
или на Windows:
```bash
cd C:\Users\ВашеИмя\Documents
```

3. Выполните команду клонирования (замените URL на реальный адрес репозитория):
```bash
git clone https://github.com/ваш-репозиторий/anomaly.git
```

4. Перейдите в папку проекта:
```bash
cd anomaly
```

### Способ 2: Через ZIP-архив

1. Откройте браузер
2. Перейдите на страницу проекта (GitHub и т.д.)
3. Нажмите кнопку "Code" (или "Clone")
4. Выберите "Download ZIP"
5. Сохраните архив
6. Распакуйте архив в удобное место (например, в Documents)
7. Откройте терминал и перейдите в распакованную папку:
```bash
cd путь/к/распакованной/папке/anomaly
```

---

## Установка зависимостей

### Что такое зависимости?

Зависимости - это дополнительные программы (библиотеки), которые нужны для работы нашей системы. Например:
- `numpy` - для работы с числами
- `pandas` - для работы с данными
- `fastapi` - для веб-интерфейса
- и другие

Все зависимости перечислены в файле `requirements.txt`.

### Установка через pip

**pip** - это менеджер пакетов для Python. Он скачивает и устанавливает библиотеки.

1. Убедитесь, что вы в папке проекта (там, где находится файл `requirements.txt`)

2. Выполните команду:
```bash
pip install -r requirements.txt
```

**Если команда не работает, попробуйте:**
```bash
python -m pip install -r requirements.txt
```

или на Mac/Linux:
```bash
python3 -m pip install -r requirements.txt
```

3. Подождите - установка может занять несколько минут. Вы увидите много текста - это нормально.

4. В конце должно появиться сообщение об успешной установке.

### Что делать, если установка не удалась?

**Ошибка "Permission denied" (Mac/Linux):**
Используйте `sudo`:
```bash
sudo pip install -r requirements.txt
```

**Ошибка "не является внутренней или внешней командой" (Windows):**
Убедитесь, что Python установлен и добавлен в PATH. Переустановите Python с галочкой "Add to PATH".

**Ошибка с конкретным пакетом:**
Попробуйте установить его отдельно:
```bash
pip install имя_пакета
```

---

## Первый запуск

### Базовая настройка

1. Убедитесь, что файл `config/agents.yaml` существует (если нет, скопируйте `agents.yaml.example`)

2. Откройте терминал в папке проекта

3. Выполните:
```bash
python main.py
```

или
```bash
python3 main.py
```

### Что вы должны увидеть?

Вы увидите что-то вроде:
```
Initializing Anomaly Detection System...
Warning: Agents config file config/agents.yaml not found, skipping agent registration
Starting monitoring...
Starting API server on 0.0.0.0:8000
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
```

Это означает, что система запущена!

### Открытие веб-интерфейса

1. Откройте браузер
2. Введите в адресной строке:
```
http://localhost:8000
```

3. Вы должны увидеть JSON-ответ с информацией о системе

### Остановка системы

Нажмите `Ctrl+C` в терминале.

---

## Решение проблем

### Python не найден

**Симптомы:**
```
python: command not found
python: не является внутренней или внешней командой
```

**Решения:**
1. Убедитесь, что Python установлен
2. На Mac/Linux попробуйте `python3` вместо `python`
3. На Windows переустановите Python с галочкой "Add to PATH"
4. Перезапустите терминал после установки

### pip не найден

**Симптомы:**
```
pip: command not found
```

**Решения:**
```bash
python -m pip install -r requirements.txt
```

или
```bash
python3 -m pip install -r requirements.txt
```

### Ошибки при установке пакетов

**Симптомы:**
Различные ошибки при выполнении `pip install`

**Решения:**

1. Обновите pip:
```bash
python -m pip install --upgrade pip
```

2. Установите пакеты по одному, чтобы понять, какой вызывает проблему

3. На Windows может понадобиться Microsoft Visual C++ Build Tools для некоторых пакетов

4. На Mac может понадобиться Xcode Command Line Tools:
```bash
xcode-select --install
```

### Порт занят

**Симптомы:**
```
Error: [Errno 48] Address already in use
Port 8000 is already in use
```

**Решения:**

1. Используйте другой порт:
```bash
python main.py --port 8001
```

2. Найдите и закройте программу, которая использует порт 8000

3. На Linux/Mac можно найти процесс:
```bash
lsof -i :8000
kill -9 <PID>
```

### Файл конфигурации не найден

**Симптомы:**
```
FileNotFoundError: config/config.yaml
```

**Решения:**

1. Убедитесь, что вы запускаете команду из папки проекта
2. Проверьте, что файл существует
3. Укажите полный путь к файлу:
```bash
python main.py --config /полный/путь/к/config.yaml
```

---

## Дополнительные ресурсы

### Изучение Python

Если хотите больше узнать о Python:
- Официальный туториал: https://docs.python.org/3/tutorial/
- Python для начинающих: https://www.python.org/about/gettingstarted/

### Изучение терминала

- Linux: https://ubuntu.com/tutorials/command-line-for-beginners
- Mac: Встроенная справка через `man команда`
- Windows: `help` в командной строке

---

**Поздравляем! Теперь вы знаете, как установить и запустить систему.**

Для дальнейшей работы см. файлы:
- `QUICK_START.md` - быстрый старт
- `README_SIMPLE.md` - подробная документация простым языком

